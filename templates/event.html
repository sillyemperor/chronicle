<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <title>${event.title}</title>
</head>
<body onload="main()">
<div style="margin: 10px;">
<form method="post">
  <div class="form-group">
    <label for="title">Title</label>
    <input type="text" class="form-control" name="title" id="title" placeholder="Title" value="${event.title}">
  </div>
  <div class="form-group">
    <label for="abstract">Abstract</label>
      <textarea class="form-control" name="abstract" id="abstract" placeholder="Abstract" >${event.abstract}</textarea>
  </div>
  <div class="form-group">
      <input type="number" name="year" value="${event.year}">
      -<input type="number" name="month" value="${event.month}">
      -<input type="number" name="day" value="${event.day}">
      ~<input type="number" name="year2" value="${event.year2}">
      -<input type="number" name="month2" value="${event.month2}">
      -<input type="number" name="day2" value="${event.day2}">
  </div>
  <div class="form-group">
    <label for="online_uri_list">Url List</label>
    <input type="text" class="form-control" name="online_uri_list" id="online_uri_list" placeholder="Url,Url,..." value="${event.online_uri_list}">
  </div>
  <div class="form-group">
    <label for="thumbnail_uri_list">Thumbnail Url List</label>
    <input type="text" class="form-control" name="thumbnail_uri_list" id="thumbnail_uri_list" placeholder="Url,Url,..." value="${event.thumbnail_uri_list}">
  </div>
        <div class="form-group">
        <label for="online_uri_list">Position</label>
        X:<input type="number" step="any" t name="x" id="x" value="${event.x}">Y:<input type="number" step="any" name="y" id="y" value="${event.y}">
    </div>
      <button type="submit" class="btn btn-primary">Submit</button>
    <a class="btn btn-default" href="${referer}">Cancel</a>
</form>
</div>

<div id='myMap' style="position:relative;width:100%; height:400px;"><span style="position:absolute;top:200px;left:50%;z-index:999;font-size:14px">+</span></div>


<script type='text/javascript'
            src='http://www.bing.com/api/maps/mapcontrol?callback=main'
            async defer></script>
<script src="//cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>
<script>
var map;
var pin;

function view_change(){
    var loc = map.getCenter();
    $('#x').val(loc.longitude);
    $('#y').val(loc.latitude);
}

function main(){
   map  = new Microsoft.Maps.Map('#myMap', {
            credentials: 'cJMlPRyu6X4l4kijJjKc~SvzUeeSL_0725GkwWa-Y6A~AjtpoXSBN4_WfmmeD188OR2ej26r7RF-GOsbhT4vzk1vcwGczD5JjFhw0ygJSRcK'
        });
    Microsoft.Maps.Events.addHandler(map, 'viewchangestart', view_change);
    Microsoft.Maps.Events.addHandler(map, 'viewchange', view_change);
    Microsoft.Maps.Events.addHandler(map, 'viewchangeend', view_change);
}

</script>
</body>
</html>